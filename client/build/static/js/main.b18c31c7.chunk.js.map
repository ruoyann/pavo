{"version":3,"sources":["socket.js","pages/homepage/components/classroomlogin.js","pages/homepage/components/makeClassroomButton.js","pages/homepage/components/usernameInput.js","components/footer.js","assets/pavo_logo.svg","assets/peacockSound.m4a","pages/homepage/homepage.js","pages/roomPage/components/WaitingRoom.js","pages/roomPage/components/Board.js","pages/roomPage/components/BoardContainer.js","components/header.js","pages/roomPage/components/ClassRoom.js","pages/roomPage/RoomPage.js","App.js","index.js"],"names":["socket","io","autoConnect","onAny","event","args","console","log","useStyles","makeStyles","theme","button","background","color","width","fontSize","margin","spacing","leftIcon","marginRight","rightIcon","marginLeft","iconSmall","root","padding","container","display","flexWrap","textField","Classroomlogin","username","setInvalidUsername","classes","history","useHistory","useState","code","setCode","show","setShow","invalidRoomcode","setInvalidRoomcode","useEffect","connect","Button","variant","className","onClick","preventDefault","style","marginBottom","TextField","label","id","name","onChange","target","value","helperText","error","type","emit","roomCode","toLowerCase","trim","user","alert","push","host","marginTop","backgroundColor","MakeClassroomButton","once","data","handleCreate","UsernameInput","setUsername","invalidUsername","Footer","paddingTop","Typography","align","gutterBottom","Homepage","useSound","sound","play","src","Logo","alt","e","detail","handleScream","height","WaitingRoom","users","content","currentUser","minWidth","length","map","userID","IconButton","edge","removeUser","ParticipantDisplay","size","Board","props","isDrawing","clearWhiteboard","canvas","document","getElementById","getContext","clearRect","state","shared","on","localeCompare","this","interval","setInterval","clearInterval","image","Image","querySelector","ctx","onload","drawImage","base64ImageData","toDataURL","handleShare","bind","stopShare","drawOnCanvas","initialiseImage","newProps","strokeStyle","eraseMode","lineWidth","sketch","sketch_style","getComputedStyle","parseInt","getPropertyValue","mouse","x","y","last_mouse","addEventListener","pageX","offsetLeft","pageY","offsetTop","lineJoin","lineCap","onPaint","removeEventListener","beginPath","moveTo","lineTo","closePath","stroke","undefined","timeout","clearTimeout","setTimeout","setState","fillStyle","fillRect","Grid","item","xs","class","border","React","Component","UserWhiteboard","whiteboard","justifyContent","erase","Container","changeEraseMode","params","alignItems","List","ListItem","changeColor","changeSize","focus","shareWhiteboards","icon","flexGrow","menuButton","title","Header","AppBar","position","elevation","Toolbar","maxWidth","window","confirm","Classroom","setShareWhiteboards","findIndex","newWhiteboard","filter","filteredContent","BoardContainer","RoomPage","location","href","split","slice","setUsers","setContent","roomStart","setRoomStart","useLocation","onbeforeunload","started","start","justifyItems","App","exact","path","ReactDOM","render","StrictMode"],"mappings":"oOAEMA,EAASC,aAAG,CAAEC,aAAa,IAEjCF,EAAOG,OAAM,SAACC,GAAoB,IAAD,uBAATC,EAAS,iCAATA,EAAS,kBAC/BC,QAAQC,IAAI,qBAAsBH,EAAOC,MAI5BL,Q,OCDTQ,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,OAAQ,CACNC,WAAY,UACZC,MAAO,QACPC,MAAO,OACPC,SAAU,GACVC,OAAQN,EAAMO,QAAQ,IAExBC,SAAU,CACRC,YAAaT,EAAMO,QAAQ,IAE7BG,UAAW,CACTC,WAAYX,EAAMO,QAAQ,IAE5BK,UAAW,CACTP,SAAU,IAEZQ,KAAM,CACJC,QAASd,EAAMO,QAAQ,EAAG,IAE5BQ,UAAW,CACTC,QAAS,OACTC,SAAU,QAEZC,UAAW,CACTP,WAAYX,EAAMO,QAAQ,GAC1BE,YAAaT,EAAMO,QAAQ,GAE3BH,MAAO,WA8FIe,EA1FQ,SAAC,GAAsC,IAApCC,EAAmC,EAAnCA,SAAUC,EAAyB,EAAzBA,mBAC5BC,EAAUxB,IACVyB,EAAUC,cAEhB,EAAwBC,mBAAS,IAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAAwBF,oBAAS,GAAjC,mBAAOG,EAAP,KAAaC,EAAb,KAEA,EAA8CJ,oBAAS,GAAvD,mBAAOK,EAAP,KAAwBC,EAAxB,KAMAC,qBAAU,WACR1C,EAAO2C,YACN,IAgCH,OACE,gCACE,cAACC,EAAA,EAAD,CACEC,QAAQ,YACRC,UAAWd,EAAQrB,OACnBoC,QAnCyB,SAAC3C,GAC9BA,EAAM4C,iBACW,KAAblB,EACFC,GAAmB,IAEnBA,GAAmB,GACnBQ,GAASD,KA0BT,4BAOCA,EACC,sBAAKW,MAAO,CAAEC,aAAc,IAA5B,UACE,cAACC,EAAA,EAAD,CACEC,MAAM,iBACNC,GAAG,gBACHC,KAAK,OACLR,UAAWd,EAAQJ,UACnB2B,SAtDW,SAACnD,GACpBiC,EAAQjC,EAAMoD,OAAOC,QAsDbR,MAAO,CAAEnC,MAAO,OAChB4C,WAAYlB,EAAkB,sCAAwC,GACtEmB,MAAOnB,IAGT,cAACI,EAAA,EAAD,CACEgB,KAAK,SACLf,QAAQ,YACRhC,MAAM,UACNkC,QA9Ce,SAAC3C,GACxBA,EAAM4C,iBACO,KAATZ,EACFK,GAAmB,IAEnBA,GAAmB,GACnBzC,EAAO6D,KACL,YACA,CAAEC,SAAU1B,EAAK2B,cAAcC,OAAQlC,SAAUA,IACjD,YAAsB,IAAnB6B,EAAkB,EAAlBA,MAAOM,EAAW,EAAXA,KACJN,EACFO,MAAMP,GAEN1B,EAAQkC,KAAR,gBAAsB/B,GAAQ,CAAEgC,MAAM,EAAOH,KAAMA,SAkCnDhB,MAAO,CACLoB,UAAW,OACXhD,WAAY,OACZP,MAAO,MACPwD,gBAAiB,UACjBzD,MAAO,SAVX,sBAgBA,SCtHJL,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,OAAQ,CACNC,WAAY,UACZC,MAAO,QACPC,MAAO,OACPC,SAAU,GACVC,OAAQN,EAAMO,QAAQ,IAExBC,SAAU,CACRC,YAAaT,EAAMO,QAAQ,IAE7BG,UAAW,CACTC,WAAYX,EAAMO,QAAQ,IAE5BK,UAAW,CACTP,SAAU,IAEZQ,KAAM,CACJC,QAASd,EAAMO,QAAQ,EAAG,IAE5BQ,UAAW,CACTC,QAAS,OACTC,SAAU,QAEZC,UAAW,CACTP,WAAYX,EAAMO,QAAQ,GAC1BE,YAAaT,EAAMO,QAAQ,GAC3BH,MAAO,SAyCIyD,EArCa,SAAC,GAAsC,IAApCzC,EAAmC,EAAnCA,SAAUC,EAAyB,EAAzBA,mBACjCC,EAAUxB,IACVyB,EAAUC,cAWhBQ,qBAAU,WACR1C,EAAO2C,UACP3C,EAAOwE,KAAK,UAAU,SAACC,GACrB,IAAMX,EAAWW,EAAKX,SAChBG,EAAOQ,EAAKL,KAClBnC,EAAQkC,KAAR,gBAAsBL,GAAY,CAAEM,MAAM,EAAMH,KAAMA,SAEvD,CAACnC,IAEJ,IAAM4C,EAAe,WACnB1E,EAAO6D,KAAK,SAAU,CAAE/B,SAAUA,KAGpC,OACE,cAACc,EAAA,EAAD,CACEC,QAAQ,YACRC,UAAWd,EAAQrB,OACnBoC,QA1BoB,WACL,KAAbjB,EACFC,GAAmB,IAEnBA,GAAmB,GACnB2C,MAkBF,mCC5DElE,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,OAAQ,CACNK,OAAQN,EAAMO,QAAQ,IAExBC,SAAU,CACRC,YAAaT,EAAMO,QAAQ,IAE7BG,UAAW,CACTC,WAAYX,EAAMO,QAAQ,IAE5BK,UAAW,CACTP,SAAU,IAEZQ,KAAM,CACJC,QAASd,EAAMO,QAAQ,EAAG,IAE5BQ,UAAW,CACTC,QAAS,OACTC,SAAU,QAEZC,UAAW,CACTP,WAAYX,EAAMO,QAAQ,GAC1BE,YAAaT,EAAMO,QAAQ,GAC3BH,MAAO,YA8BI6D,EA1BO,SAAC,GAAsC,IAApCC,EAAmC,EAAnCA,YAAaC,EAAsB,EAAtBA,gBAC9B7C,EAAUxB,IAUhB,OAJAkC,qBAAU,WACR1C,EAAO2C,YACN,IAGD,8BACE,cAACQ,EAAA,EAAD,CACEC,MAAM,WACNC,GAAG,gBACHC,KAAK,OACLR,UAAWd,EAAQJ,UACnB2B,SAfe,SAACnD,GACpBwE,EAAYxE,EAAMoD,OAAOC,QAerBC,WAAYmB,EAAkB,0BAA4B,GAC1DlB,MAAOkB,O,SCnCAC,EAdA,WAEb,OACE,sBAAKhC,UAAU,eAAeG,MAAO,CAAE8B,WAAY,QAAnD,UACE,cAACC,EAAA,EAAD,CAAYnC,QAAQ,QAAQoC,MAAM,SAASC,cAAY,EAAvD,yEAGA,cAACF,EAAA,EAAD,CAAYnC,QAAQ,QAAQoC,MAAM,SAAlC,wCCVS,MAA0B,sC,SCA1B,MAA0B,yCCsC1BE,EA3BE,WACf,MAAgChD,mBAAS,IAAzC,mBAAOL,EAAP,KAAiB8C,EAAjB,KACA,EAA8CzC,oBAAS,GAAvD,mBAAO0C,EAAP,KAAwB9C,EAAxB,KACA,EAAeqD,YAASC,GAAjBC,EAAP,oBAQA,OACE,gCACE,qBACEC,IAAKC,EACLC,IAAI,WACJ1C,QAAS,SAAC2C,GAAD,OAXM,SAACA,GACH,IAAbA,EAAEC,QACJL,IASkBM,CAAaF,IAC7BzC,MAAO,CAAEnC,MAAO,QAAS+E,OAAQ,WAEnC,cAAC,EAAD,CAAejB,YAAaA,EAAaC,gBAAiBA,IAC1D,cAAC,EAAD,CAAgB/C,SAAUA,EAAUC,mBAAoBA,IACxD,cAAC,EAAD,CAAqBD,SAAUA,EAAUC,mBAAoBA,IAC7D,cAAC,EAAD,Q,2BCtBAvB,G,OAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,OAAQ,CACNC,WAAY,UACZC,MAAO,QACPgF,OAAQ,GACR/E,MAAO,IACPC,SAAU,GACVC,OAAQN,EAAMO,QAAQ,IAExBC,SAAU,CACRC,YAAaT,EAAMO,QAAQ,IAE7BG,UAAW,CACTC,WAAYX,EAAMO,QAAQ,IAE5BK,UAAW,CACTP,SAAU,IAEZQ,KAAM,CACJC,QAASd,EAAMO,QAAQ,EAAG,IAE5BQ,UAAW,CACTC,QAAS,OACTC,SAAU,QAEZC,UAAW,CACTP,WAAYX,EAAMO,QAAQ,GAC1BE,YAAaT,EAAMO,QAAQ,GAC3BH,MAAO,UAqEIgF,EAjEK,SAAC,GAAqD,IAAnD1B,EAAkD,EAAlDA,KAAMN,EAA4C,EAA5CA,SAAUiC,EAAkC,EAAlCA,MAAOC,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,YAC/CjE,EAAUxB,IAuBhB,OACE,sBAAKsC,UAAU,YAAf,UACE,eAACkC,EAAA,EAAD,CAAYnC,QAAQ,KAAKI,MAAO,CAAEjC,OAAQ,IAA1C,6BACmB8C,KAEnB,sBAAKhB,UAAU,SAAf,UACE,cAACkC,EAAA,EAAD,CAAYnC,QAAQ,KAAKI,MAAO,CAAEjC,OAAQ,IAA1C,4BAGA,qBAAKuE,IAAKC,EAAMC,IAAI,OAAOxC,MAAO,CAAEnC,MAAO,MAAOoF,SAAU,SAC5D,cAAClB,EAAA,EAAD,CAAYnC,QAAQ,KAApB,uBAEF,qBAAKC,UAAU,QAAf,SACE,eAACkC,EAAA,EAAD,CAAYnC,QAAQ,KAApB,4BACkBkD,EADlB,IACyB,uBADzB,iBAGE,6BAAKC,EAAQG,OAAS,GAAKH,EAAQI,IA7BhB,SAAChC,GAAD,OAAU,SAACH,GACpC,OACE,+BACGA,EAAKnC,SACLsC,GAAQH,EAAKoC,SAAWJ,EAAYI,QACnC,cAACC,EAAA,EAAD,CAAYC,KAAK,MAAMxD,QAAS,kBATrB,SAACkB,GAClBjE,EAAO6D,KAAK,cAAe,CAAEI,KAAMA,EAAMH,SAAUA,IAQP0C,CAAWvC,IAAjD,SACE,cAAC,IAAD,UAuBqCwC,CAAmBrC,WAG7DA,GACC,cAACxB,EAAA,EAAD,CACEgB,KAAK,SACLf,QAAQ,YACRhC,MAAM,UACN6F,KAAK,QACL5D,UAAWd,EAAQrB,OACnBoC,QA/Ca,WACnB/C,EAAO6D,KAAK,eAAgBC,IAwCxB,4BAWAM,GACA,cAACY,EAAA,EAAD,CAAYnC,QAAQ,KAApB,mDAIF,cAAC,EAAD,Q,kECsGS8D,E,kDAhMX,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IALVC,WAAY,EAIO,EA8JnBC,gBAAkB,WACd,IAAMC,EAASC,SAASC,eAAT,gBAAiC,EAAKL,MAAM9C,SAA5C,YAAwD,EAAK8C,MAAM3C,KAAKoC,SAClFU,IAGOA,EAAOG,WAAW,MAC1BC,UAAU,EAAG,EAAGJ,EAAOjG,MAAOiG,EAAOlB,QACzC7F,EAAO6D,KAAK,QAAS,CAACC,SAAU,EAAK8C,MAAM9C,SAAUG,KAAM,EAAK2C,MAAM3C,SAnKtE,EAAKmD,MAAQ,CACTC,QAAQ,GAEZrH,EAAOsH,GAAG,eAAe,SAAS7C,GAC9B,GAAoD,IAAhDA,EAAKX,SAASyD,cAAcX,EAAM9C,WACoB,IAAtDW,EAAKR,KAAKoC,OAAOkB,cAAcX,EAAM3C,KAAKoC,QAG9C,IAAI9E,EAAOiG,KACPC,EAAWC,aAAY,WACvB,IAAGnG,EAAKsF,UAAR,CACAtF,EAAKsF,WAAY,EACjBc,cAAcF,GACd,IAAIG,EAAQ,IAAIC,MACZd,EAASC,SAASc,cAAT,iBAAiClB,EAAM9C,SAAvC,YAAmD8C,EAAM3C,KAAKoC,SAC3E,GAAIU,EAAQ,CACR,IAAIgB,EAAMhB,EAAOG,WAAW,MAC5BU,EAAMI,OAAS,WACXD,EAAIE,UAAUL,EAAO,EAAG,GAExBrG,EAAKsF,WAAY,GAErBe,EAAMrC,IAAMd,EAAKmD,UAEtB,QAGP5H,EAAOsH,GAAG,SAAS,SAAC7C,GAChB,GAAIA,EAAKX,WAAa8C,EAAM9C,UAAYW,EAAKR,KAAKoC,SAAWO,EAAM3C,KAAKoC,OAAQ,CAC5E,IAAMU,EAASC,SAASC,eAAT,gBAAiC,EAAKL,MAAM9C,SAA5C,YAAwD,EAAK8C,MAAM3C,KAAKoC,SACvF,IAAKU,EACD,OAEQA,EAAOG,WAAW,MAC1BC,UAAU,EAAG,EAAGJ,EAAOjG,MAAOiG,EAAOlB,YAIjD7F,EAAOsH,GAAG,mBAAmB,SAAC7C,GAC1B,GAAIA,EAAKX,WAAa8C,EAAM9C,UAAYW,EAAKR,KAAKoC,SAAWO,EAAM3C,KAAKoC,QAAUO,EAAMX,YAAYI,SAAW5B,EAAKR,KAAKoC,OAAQ,CAC7H,IAAIU,EAASC,SAASc,cAAT,iBAAiC,EAAKlB,MAAM9C,SAA5C,YAAwD,EAAK8C,MAAM3C,KAAKoC,SACrF,IAAKU,EACD,OAEJ,IAAImB,EAAkBnB,EAAOoB,UAAU,aACvCnI,EAAO6D,KAAK,cAAe,CAAC+D,MAAOM,EAAiBpE,SAAU,EAAK8C,MAAM9C,SAAUG,KAAM,EAAK2C,MAAM3C,WAG5G,EAAKmE,YAAc,EAAKA,YAAYC,KAAjB,gBACnB,EAAKC,UAAY,EAAKA,UAAUD,KAAf,gBAnDF,E,qDAsDnB,WACIb,KAAKe,eACLf,KAAKgB,oB,uCAGT,SAA0BC,GACtBjB,KAAKO,IAAIW,YAAcD,EAASE,UAC1B,UACAF,EAAS5H,MACf2G,KAAKO,IAAIa,UAAYH,EAAS/B,O,0BAGlC,WACI,IAAIK,EAASC,SAASc,cAAT,iBAAiCN,KAAKZ,MAAM9C,SAA5C,YAAwD0D,KAAKZ,MAAM3C,KAAKoC,SACrF,GAAKU,EAAL,CAGAS,KAAKO,IAAMhB,EAAOG,WAAW,MAC7B,IAAIa,EAAMP,KAAKO,IAEXc,EAAS7B,SAASc,cAAT,kBAAkCN,KAAKZ,MAAM9C,SAA7C,YAAyD0D,KAAKZ,MAAM3C,KAAKoC,SAClFyC,EAAeC,iBAAiBF,GACpC9B,EAAOjG,MAAQkI,SAASF,EAAaG,iBAAiB,UACtDlC,EAAOlB,OAASmD,SAASF,EAAaG,iBAAiB,WAEvD,IAAIC,EAAQ,CAACC,EAAG,EAAGC,EAAG,GAClBC,EAAa,CAACF,EAAG,EAAGC,EAAG,GAG3BrC,EAAOuC,iBAAiB,aAAa,SAAS5D,GAC1C2D,EAAWF,EAAID,EAAMC,EACrBE,EAAWD,EAAIF,EAAME,EAErBF,EAAMC,EAAIzD,EAAE6D,MAAQ/B,KAAKgC,WACzBN,EAAME,EAAI1D,EAAE+D,MAAQjC,KAAKkC,aAC1B,GAIH3B,EAAIa,UAAYpB,KAAKZ,MAAMF,KAC3BqB,EAAI4B,SAAW,QACf5B,EAAI6B,QAAU,QACd7B,EAAIW,YAAclB,KAAKZ,MAAM+B,UAAY,UACnCnB,KAAKZ,MAAM/F,MACjBkG,EAAOuC,iBAAiB,aAAa,SAAS5D,GAC1CqB,EAAOuC,iBAAiB,YAAaO,GAAS,MAC/C,GAEH9C,EAAOuC,iBAAiB,WAAW,WAC/BvC,EAAO+C,oBAAoB,YAAaD,GAAS,MAClD,GAEH,IAAItI,EAAOiG,KACPqC,EAAU,WACV9B,EAAIgC,YACJhC,EAAIiC,OAAOX,EAAWF,EAAGE,EAAWD,GACpCrB,EAAIkC,OAAOf,EAAMC,EAAGD,EAAME,GAC1BrB,EAAImC,YACJnC,EAAIoC,cAEeC,GAAhB7I,EAAK8I,SAAsBC,aAAa/I,EAAK8I,SAChD9I,EAAK8I,QAAUE,YAAW,WACtB,IAAIrC,EAAkBnB,EAAOoB,UAAU,aACvCnI,EAAO6D,KAAK,cAAe,CAAC+D,MAAOM,EAAiBpE,SAAUvC,EAAKqF,MAAM9C,SAAUG,KAAM1C,EAAKqF,MAAM3C,SACrG,S,yBAIX,WACI,IAAI8C,EAASC,SAASc,cAAT,iBAAiCN,KAAKZ,MAAM9C,SAA5C,YAAwD0D,KAAKZ,MAAM3C,KAAKoC,SACrF,GAAKU,EAAL,CAGA,IAAImB,EAAkBnB,EAAOoB,UAAU,aACvCnI,EAAO6D,KAAK,mBAAoB,CAAC+D,MAAOM,EAAiBpE,SAAU0D,KAAKZ,MAAM9C,SAAUG,KAAMuD,KAAKZ,MAAM3C,OACzGuD,KAAKgD,SAAS,CAACnD,QAAQ,O,uBAG3B,WACIrH,EAAO6D,KAAK,aAAc,CAACC,SAAU0D,KAAKZ,MAAM9C,SAAUG,KAAMuD,KAAKZ,MAAM3C,OAC3EuD,KAAKgD,SAAS,CAACnD,QAAQ,M,6BAI3B,WACI,GAAIG,KAAKZ,MAAMgB,MAAO,CAClB,IAAIA,EAAQ,IAAIC,MAEVd,EAASC,SAASC,eAAT,gBAAiCO,KAAKZ,MAAM9C,SAA5C,YAAwD0D,KAAKZ,MAAM3C,KAAKoC,SACvF,IAAKU,EACD,OAAO,KAEX,IAAIgB,EAAMhB,EAAOG,WAAW,MAC5BU,EAAMI,OAAS,WACXD,EAAIE,UAAUL,EAAO,EAAG,IAE5BA,EAAMrC,IAAMiC,KAAKZ,MAAMgB,MAE3B,IAAMb,EAASC,SAASC,eAAT,gBAAiCO,KAAKZ,MAAM9C,SAA5C,YAAwD0D,KAAKZ,MAAM3C,KAAKoC,UACnF0B,EAAMhB,EAAOG,WAAW,OACxBuD,UAAY,QAChB1C,EAAI2C,SAAS,EAAG,EAAG3D,EAAOjG,MAAOiG,EAAOlB,U,oBAa5C,WAEI,OADAvF,QAAQC,IAAI,sBAAuBiH,KAAKZ,OAEpC,eAAC+D,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,UACI,cAAC7F,EAAA,EAAD,CAAYnC,QAAQ,KAApB,SAA0B2E,KAAKZ,MAAM3C,KAAOuD,KAAKZ,MAAM3C,KAAKnC,SAAW,KACtE0F,KAAKJ,MAAMC,OACV,cAACzE,EAAA,EAAD,CAAQG,QAASyE,KAAKc,UAAtB,qCAGA,cAAC1F,EAAA,EAAD,CAAQG,QAASyE,KAAKY,YAAtB,8BAGF,cAACxF,EAAA,EAAD,CAAQG,QAASyE,KAAKV,gBAAgBuB,KAAKb,MAA3C,8BAGA,qBAAKsD,MAAM,SAASzH,GAAE,iBAAYmE,KAAKZ,MAAM9C,SAAvB,YAAmC0D,KAAKZ,MAAM3C,KAAKoC,QAAzE,SACI,wBAAQvD,UAAU,QAAQO,GAAE,gBAAWmE,KAAKZ,MAAM9C,SAAtB,YAAkC0D,KAAKZ,MAAM3C,KAAKoC,QAC9EpD,MAAO,CAAC8H,OAAO,qBAAsBjK,MAAM,MAAM+E,OAAO,iB,GAhMxDmF,IAAMC,W,kBCApBC,EAAiB,SAAC3J,GAAD,OAAU,SAAC4J,GAC9B,OACI,cAACR,EAAA,EAAD,CAAMlJ,WAAS,EAACR,QAAS,EAAGmK,eAAe,aAA3C,SACQ,cAAC,EAAD,CAAOvK,MAAOU,EAAK6F,MAAMvG,MAAO6F,KAAMnF,EAAK6F,MAAMV,KACjD5C,SAAUvC,EAAKqF,MAAM9C,SAAUG,KAAMkH,EAAWlH,KAAM2D,MAAOuD,EAAWvD,MACxEe,UAAYpH,EAAK6F,MAAMiE,MAAOpF,YAAa1E,EAAKqF,MAAMX,kBA8GvDqF,E,kDAtGb,WAAY1E,GAAQ,IAAD,8BACjB,cAAMA,IAqBR2E,gBAAkB,WAChB,EAAKf,SAAL,2BAAmB,EAAKpD,OAAxB,IAA+BiE,OAAQ,EAAKjE,MAAMiE,UApBlD,EAAKjE,MAAQ,CACXvG,MAAO,UACP6F,KAAM,IACN2E,OAAO,GANQ,E,+CAUnB,SAAYG,GACVhE,KAAKgD,SAAS,CACZ3J,MAAO2K,EAAOhI,OAAOC,U,wBAIzB,SAAW+H,GACThE,KAAKgD,SAAS,CACZ9D,KAAM8E,EAAOhI,OAAOC,U,oBAQxB,WAAU,IAAD,OAEP,OADAnD,QAAQC,IAAI,eAAgBiH,KAAKZ,MAAMX,aAErC,eAAC0E,EAAA,EAAD,CAAMlJ,WAAS,EAACR,QAAS,EAAGwK,WAAW,SAAvC,UACE,cAACd,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,EAAf,SACE,qBACE5H,MAAO,CAAE8H,OAAQ,oBAAqBK,eAAgB,UADxD,SAGE,eAACM,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UACE,sBAAK7I,UAAU,yBAAf,UACE,cAACkC,EAAA,EAAD,CAAYnC,QAAQ,QAApB,gCACA,uBACEe,KAAK,QACLH,MAAO+D,KAAKJ,MAAMvG,MAClB0C,SAAUiE,KAAKoE,YAAYvD,KAAKb,aAItC,cAACmE,EAAA,EAAD,UACE,sBAAK7I,UAAU,sBAAf,UACE,cAACkC,EAAA,EAAD,CAAYnC,QAAQ,QAApB,+BACA,yBACEY,MAAO+D,KAAKJ,MAAMV,KAClBnD,SAAUiE,KAAKqE,WAAWxD,KAAKb,MAFjC,UAIE,yCACA,0CACA,0CACA,0CACA,0CACA,kDAIN,cAACmE,EAAA,EAAD,UACE,cAAC/I,EAAA,EAAD,CAAQG,QAASyE,KAAK+D,gBAAgBlD,KAAKb,MAA3C,SACGA,KAAKJ,MAAMiE,MAAQ,eAAiB,YAGzC,cAACM,EAAA,EAAD,UACGnE,KAAKZ,MAAMxC,MACV,cAACxB,EAAA,EAAD,CACEG,QAAS,WACH,EAAKqE,MAAM0E,OACb9L,EAAO6D,KAAK,kBAAmB,CAC7BC,SAAU,EAAK8C,MAAM9C,SACrBG,KAAM,EAAK2C,MAAMX,cAGrB,EAAKuE,SAAL,2BACK,EAAKpD,OADV,IAEE0E,OAAQ,EAAK1E,MAAM0E,UAVzB,SAcGtE,KAAKJ,MAAM0E,MAAQ,WAAa,wBAO7C,eAACnB,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,WACIrD,KAAKZ,MAAMxC,MACXoD,KAAKZ,MAAMmF,iBAAiB3F,IAAI8E,EAAe1D,OAChD0D,EAAe1D,KAAf0D,CAAqB,CAACjH,KAAMuD,KAAKZ,MAAMX,cACvCuB,KAAKZ,MAAMxC,OACToD,KAAKJ,MAAM0E,OACZtE,KAAKZ,MAAMZ,QAAQI,IAAI8E,EAAe1D,iB,GAjG1BwD,IAAMC,W,kBCTxBzK,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCsL,KAAM,CACJnL,MAAO,UACPM,YAAaT,EAAMO,QAAQ,IAE7BM,KAAM,CACJ0K,SAAU,EACV/I,aAAcxC,EAAMO,QAAQ,IAE9BiL,WAAY,CACV/K,YAAaT,EAAMO,QAAQ,IAE7BkL,MAAO,CACLF,SAAU,OAkCCG,EA9BA,WACb,IAAMnK,EAAUC,cACVF,EAAUxB,IAQhB,OACE,qBAAKsC,UAAWd,EAAQT,KAAxB,SACE,cAAC8K,EAAA,EAAD,CACEC,SAAS,WACTrJ,MAAO,CAAEqB,gBAAiB,WAC1BiI,UAAW,EAHb,SAKE,cAACC,EAAA,EAAD,UACE,qBACEjH,IAAKC,EACLvC,MAAO,CAAEwJ,SAAU,IACnB3J,UAAU,MACVC,QAAS,WAjBb2J,OAAOC,QAAQ,4BACjB1K,EAAQkC,KAAK,eC2BJyI,EAlDG,SAAC,GAA8C,IAA5CxI,EAA2C,EAA3CA,KAAMN,EAAqC,EAArCA,SAAUkC,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,YAC5C,EAAgD9D,mBAAS,IAAzD,mBAAO4J,EAAP,KAAyBc,EAAzB,KAEE7M,EAAOsH,GAAG,oBAAoB,SAAC7C,IAGd,IAFDsH,EAAiBe,WAAU,SAAA3B,GAAU,OAAIA,EAAWrH,WAAaW,EAAKX,UAClFqH,EAAWlH,KAAKoC,SAAW5B,EAAKR,KAAKoC,WACnB5B,EAAKX,WAAaA,GAAYW,EAAKR,KAAKoC,SAAWJ,EAAYI,QACjFwG,EAAoB,GAAD,mBAAKd,GAAL,CAAuBtH,QAI9CzE,EAAOsH,GAAG,cAAc,SAAC7C,GAEvB,IAAe,IADDsH,EAAiBe,WAAU,SAAA3B,GAAU,OAAIA,EAAWrH,WAAaW,EAAKX,UAAYqH,EAAWlH,KAAKoC,SAAW5B,EAAKR,KAAKoC,WACjH5B,EAAK4B,SAAWJ,EAAYnE,SAAU,CACxD,IAAMiL,EAAgBhB,EAAiBiB,QAAO,SAAA7B,GAAU,OAAIA,EAAWrH,WAAaW,EAAKX,UAAYqH,EAAWrJ,WAAa2C,EAAK3C,YAClI+K,EAAoBE,OAIxB,IAAME,EAAkBjH,EAAQgH,QAAO,SAAA7D,GAAC,OAAIA,EAAE9C,SAAWJ,EAAYI,UAAQD,KAAI,SAAA+C,GAC/E,MAAQ,CACNlF,KAAM,CACJoC,OAAQ8C,EAAE9C,OACVvE,SAAUqH,EAAErH,cAKpB,OACE,eAAC6I,EAAA,EAAD,CAAMlJ,WAAS,EAACR,QAAS,EAAzB,UACE,cAAC0J,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,EAAD,MAEF,cAACF,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACf,cAACF,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACE,eAAC7F,EAAA,EAAD,CAAYnC,QAAQ,KAApB,kBAA+BiB,OAEjC,cAAC6G,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACE,cAACqC,EAAD,CACE9I,KAAMA,EACNN,SAAUA,EACVmC,YAAaA,EACb8F,iBAAkBA,EAClB/F,QAASiH,UCaJE,EA1DE,WACf,IAAMrJ,EAAW4I,OAAOU,SAASC,KAAKC,MAAM,KAAKC,OAAO,GAAG,GAC3D,EAA0BpL,mBAAS,GAAnC,mBAAO4D,EAAP,KAAcyH,EAAd,KACA,EAA8BrL,mBAAS,CACrC4D,MAAO,KADT,mBAAOC,EAAP,KAAgByH,EAAhB,KAGA,EAAkCtL,oBAAS,GAA3C,mBAAOuL,EAAP,KAAkBC,EAAlB,KACMP,EAAWQ,cACXxJ,EAAOgJ,EAAShG,MAAMhD,KACtB6B,EAAcmH,EAAShG,MAAMnD,KAC7BhC,EAAUC,cAgChB,OA7BAwK,OAAOmB,eAAiB,WACtB7N,EAAO6D,KAAK,QAASoC,IAGvBvD,qBAAU,WACR1C,EAAO2C,UACP3C,EAAO6D,KAAK,iBAAkB,CAACC,SAAUA,EAAUG,KAAMgC,IAAc,YAAgB,IAAd6H,EAAa,EAAbA,QACvEH,EAAaG,MAGf9N,EAAOsH,GAAG,eAAe,SAACtB,GACxB1F,QAAQC,IAAIyF,GACZwH,EAASxH,EAAQD,MAAMI,QACvBsH,EAAWzH,EAAQD,OAEiB,IAAhCE,EAAYnE,SAASqE,SAAyF,IAAzEH,EAAQD,MAAM+G,WAAU,SAAA7I,GAAI,OAAIA,EAAKoC,SAAWJ,EAAYI,YACnGpE,EAAQkC,KAAK,KACbD,MAAM,gDAIVlE,EAAOsH,GAAG,wBAAwB,SAACtB,GACjC2H,EAAa3H,EAAQ+H,YAEtB,IAEHzN,QAAQC,IAAI,uBAAwByF,GAG7B0H,EACC,cAAC,EAAD,CACNtJ,KAAMA,EACNN,SAAUA,EACVkC,QAASA,EACTC,YAAaA,IAEX,cAAC,EAAD,CACF7B,KAAMA,EACNN,SAAUA,EACViC,MAAOA,EACPC,QAASA,EACTC,YAAaA,K,QCtDXzF,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCe,UAAW,CACTuM,aAAc,cAuBHC,OAnBf,WAGE,OAFgBzN,IAGd,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAO0N,OAAK,EAACC,KAAK,IAAlB,SACE,qBAAKrL,UAAU,MAAf,SACE,cAAC,EAAD,QAGJ,cAAC,IAAD,CAAOqL,KAAK,kBAAZ,SACE,cAAC,EAAD,YCpBVC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFtH,SAASC,eAAe,U","file":"static/js/main.b18c31c7.chunk.js","sourcesContent":["import { io } from 'socket.io-client';\r\n\r\nconst socket = io({ autoConnect: false });\r\n\r\nsocket.onAny((event, ...args) => {\r\n  console.log('Catch-all listener', event, args);\r\n});\r\n\r\n\r\nexport default socket;\r\n\r\n","import TextField from \"@material-ui/core/TextField\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport socket from \"../../../socket\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    background: \"#74b816\",\r\n    color: \"white\",\r\n    width: \"100%\",\r\n    fontSize: 20,\r\n    margin: theme.spacing(1),\r\n  },\r\n  leftIcon: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  rightIcon: {\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n  iconSmall: {\r\n    fontSize: 20,\r\n  },\r\n  root: {\r\n    padding: theme.spacing(3, 2),\r\n  },\r\n  container: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    // width: 320,\r\n    width: \"84%\",\r\n  },\r\n}));\r\n\r\nconst Classroomlogin = ({ username, setInvalidUsername }) => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const [code, setCode] = useState(\"\");\r\n  const [show, setShow] = useState(false);\r\n\r\n  const [invalidRoomcode, setInvalidRoomcode] = useState(false);\r\n\r\n  const handleChange = (event) => {\r\n    setCode(event.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket.connect();\r\n  }, []);\r\n\r\n  const handleClickJoinSession = (event) => {\r\n    event.preventDefault();\r\n    if (username === \"\") {\r\n      setInvalidUsername(true)\r\n    } else {\r\n      setInvalidUsername(false)\r\n      setShow(!show)\r\n    }\r\n  };\r\n\r\n  const handleEnterClass = (event) => {\r\n    event.preventDefault();\r\n    if (code === \"\") {\r\n      setInvalidRoomcode(true);\r\n    } else {\r\n      setInvalidRoomcode(false);\r\n      socket.emit(\r\n        \"userLogin\",\r\n        { roomCode: code.toLowerCase().trim(), username: username },\r\n        ({ error, user }) => {\r\n          if (error) {\r\n            alert(error);\r\n          } else {\r\n            history.push(`/room/${code}`, { host: false, user: user });\r\n          }\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        variant=\"contained\"\r\n        className={classes.button}\r\n        onClick={handleClickJoinSession}\r\n      >\r\n        Join a session\r\n      </Button>\r\n      {show ? (\r\n        <div style={{ marginBottom: 10 }}>\r\n          <TextField\r\n            label=\"Classroom code\"\r\n            id=\"margin-normal\"\r\n            name=\"name\"\r\n            className={classes.textField}\r\n            onChange={handleChange}\r\n            style={{ width: \"60%\" }}\r\n            helperText={invalidRoomcode ? \"Please enter a valid classroom code\" : \"\"}\r\n            error={invalidRoomcode}\r\n          />\r\n\r\n          <Button\r\n            type=\"submit\"\r\n            variant=\"contained\"\r\n            color=\"default\"\r\n            onClick={handleEnterClass}\r\n            style={{\r\n              marginTop: \"10px\",\r\n              marginLeft: \"50px\",\r\n              width: \"20%\",\r\n              backgroundColor: \"#d6336c\",\r\n              color: \"white\",\r\n            }}\r\n          >\r\n            Enter\r\n          </Button>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Classroomlogin;\r\n","import React, { useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport socket from \"../../../socket\";\r\n// import { Button } from \"reactstrap\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    background: \"#f76705\",\r\n    color: \"white\",\r\n    width: \"100%\",\r\n    fontSize: 20,\r\n    margin: theme.spacing(1),\r\n  },\r\n  leftIcon: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  rightIcon: {\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n  iconSmall: {\r\n    fontSize: 20,\r\n  },\r\n  root: {\r\n    padding: theme.spacing(3, 2),\r\n  },\r\n  container: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: 320,\r\n  },\r\n}));\r\n\r\nconst MakeClassroomButton = ({ username, setInvalidUsername }) => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const handleMakeClass = () => {\r\n    if (username === \"\") {\r\n      setInvalidUsername(true);\r\n    } else {\r\n      setInvalidUsername(false);\r\n      handleCreate();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket.connect();\r\n    socket.once(\"create\", (data) => {\r\n      const roomCode = data.roomCode;\r\n      const user = data.host;\r\n      history.push(`/room/${roomCode}`, { host: true, user: user });\r\n    });\r\n  }, [username]);\r\n\r\n  const handleCreate = () => {\r\n    socket.emit(\"create\", { username: username });\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      variant=\"contained\"\r\n      className={classes.button}\r\n      onClick={handleMakeClass}\r\n    >\r\n      Create a new session\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default MakeClassroomButton;\r\n","import TextField from \"@material-ui/core/TextField\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport React, { useEffect } from \"react\";\r\nimport socket from \"../../../socket\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  leftIcon: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  rightIcon: {\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n  iconSmall: {\r\n    fontSize: 20,\r\n  },\r\n  root: {\r\n    padding: theme.spacing(3, 2),\r\n  },\r\n  container: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: \"100%\",\r\n  },\r\n}));\r\n\r\nconst UsernameInput = ({ setUsername, invalidUsername }) => {\r\n  const classes = useStyles();\r\n\r\n  const handleChange = (event) => {\r\n    setUsername(event.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket.connect();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <TextField\r\n        label=\"Username\"\r\n        id=\"margin-normal\"\r\n        name=\"name\"\r\n        className={classes.textField}\r\n        onChange={handleChange}\r\n        helperText={invalidUsername ? \"Please enter a username\" : \"\"}\r\n        error={invalidUsername}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UsernameInput;\r\n","import React from \"react-dom\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst Footer = () => {\r\n\r\n  return (\r\n    <div className=\"fixed-bottom\" style={{ paddingTop: \"70px\" }}>\r\n      <Typography variant=\"body1\" align=\"center\" gutterBottom >\r\n        A whiteboard for a fun and interactive classroom experience\r\n      </Typography>\r\n      <Typography variant=\"body2\" align=\"center\">\r\n        Made for Lifehack 2021\r\n      </Typography>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","export default __webpack_public_path__ + \"static/media/pavo_logo.aaa927f9.svg\";","export default __webpack_public_path__ + \"static/media/peacockSound.72d272aa.m4a\";","import React, { useState } from \"react\";\r\nimport ClassroomLogin from \"./components/classroomlogin\";\r\nimport MakeClassroomButton from \"./components/makeClassroomButton\";\r\nimport UsernameInput from \"./components/usernameInput\";\r\nimport Footer from \"../../components/footer\";\r\n\r\nimport Logo from \"../../assets/pavo_logo.svg\";\r\n\r\nimport { useSound } from \"use-sound\";\r\nimport sound from \"../../assets/peacockSound.m4a\";\r\n\r\nconst Homepage = () => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [invalidUsername, setInvalidUsername] = useState(false);\r\n  const [play] = useSound(sound);\r\n\r\n  const handleScream = (e) => {\r\n    if (e.detail === 5) {\r\n      play();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <img\r\n        src={Logo}\r\n        alt=\"Peacock!\"\r\n        onClick={(e) => handleScream(e)}\r\n        style={{ width: \"400px\", height: \"300px\" }}\r\n      />\r\n      <UsernameInput setUsername={setUsername} invalidUsername={invalidUsername} />\r\n      <ClassroomLogin username={username} setInvalidUsername={setInvalidUsername} />\r\n      <MakeClassroomButton username={username} setInvalidUsername={setInvalidUsername} />\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Homepage;\r\n","import React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport socket from \"../../../socket\";\r\nimport Logo from \"../../../assets/pavo_logo.svg\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport \"./WaitingRoom.css\";\r\nimport Footer from \"../../../components/footer\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    background: \"#d6336c\",\r\n    color: \"white\",\r\n    height: 70,\r\n    width: 400,\r\n    fontSize: 30,\r\n    margin: theme.spacing(3),\r\n  },\r\n  leftIcon: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  rightIcon: {\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n  iconSmall: {\r\n    fontSize: 20,\r\n  },\r\n  root: {\r\n    padding: theme.spacing(3, 2),\r\n  },\r\n  container: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: 320,\r\n  },\r\n}));\r\n\r\nconst WaitingRoom = ({ host, roomCode, users, content, currentUser }) => {\r\n  const classes = useStyles();\r\n\r\n  const startSession = () => {\r\n    socket.emit(\"startSession\", roomCode);\r\n  };\r\n\r\n  const removeUser = (user) => {\r\n    socket.emit(\"remove-user\", { user: user, roomCode: roomCode });\r\n  };\r\n\r\n  const ParticipantDisplay = (host) => (user) => {\r\n    return (\r\n      <li>\r\n        {user.username}\r\n        {host && user.userID !== currentUser.userID && (\r\n          <IconButton edge=\"end\" onClick={() => removeUser(user)}>\r\n            <DeleteIcon />\r\n          </IconButton>\r\n        )}\r\n      </li>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Typography variant=\"h2\" style={{ margin: 10 }}>\r\n        You are in room {roomCode}\r\n      </Typography>\r\n      <div className=\"leader\">\r\n        <Typography variant=\"h3\" style={{ margin: 10 }}>\r\n          Session Leader\r\n        </Typography>\r\n        <img src={Logo} alt=\"logo\" style={{ width: \"50%\", minWidth: \"50%\" }} />\r\n        <Typography variant=\"h3\"> Name </Typography>\r\n      </div>\r\n      <div className=\"users\">\r\n        <Typography variant=\"h6\">\r\n          Users in room: {users} <br />\r\n          List of users:\r\n          <ol>{content.length > 0 && content.map(ParticipantDisplay(host))}</ol>\r\n        </Typography>\r\n      </div>\r\n      {host && (\r\n        <Button\r\n          type=\"submit\"\r\n          variant=\"contained\"\r\n          color=\"default\"\r\n          size=\"large\"\r\n          className={classes.button}\r\n          onClick={startSession}\r\n        >\r\n          Start session\r\n        </Button>\r\n      )}\r\n      {!host && (\r\n        <Typography variant=\"h6\">\r\n          Please wait for host to start meeting\r\n        </Typography>\r\n      )}\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WaitingRoom;\r\n","  \r\nimport { Button, Typography, Grid } from '@material-ui/core';\r\nimport React, { useEffect } from 'react';\r\nimport socket from \"../../../socket\"\r\n\r\n\r\nclass Board extends React.Component {\r\n    timeout;\r\n    ctx;\r\n    isDrawing = false;\r\n    roomCode; \r\n    userID;\r\n \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            shared: false, \r\n        }\r\n        socket.on(\"canvas-data\", function(data){\r\n            if (data.roomCode.localeCompare(props.roomCode) !== 0 || \r\n                data.user.userID.localeCompare(props.user.userID) !== 0) {\r\n                    return;\r\n                }\r\n            var root = this;\r\n            var interval = setInterval(function(){\r\n                if(root.isDrawing) return;\r\n                root.isDrawing = true;\r\n                clearInterval(interval);\r\n                var image = new Image();\r\n                var canvas = document.querySelector(`#board-${props.roomCode}-${props.user.userID}`);\r\n                if (canvas) {\r\n                    var ctx = canvas.getContext('2d');\r\n                    image.onload = function() {\r\n                        ctx.drawImage(image, 0, 0);\r\n    \r\n                        root.isDrawing = false;\r\n                    };\r\n                    image.src = data.image;\r\n                }\r\n            }, 200)\r\n        })\r\n\r\n        socket.on(\"clear\", (data) => {\r\n            if (data.roomCode === props.roomCode && data.user.userID === props.user.userID) {\r\n                const canvas = document.getElementById(`board-${this.props.roomCode}-${this.props.user.userID}`);\r\n                if (!canvas) {\r\n                    return;\r\n                }\r\n                const ctx = canvas.getContext('2d');\r\n                ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n            }\r\n        })\r\n\r\n        socket.on(\"get-whiteboards\", (data) => {\r\n            if (data.roomCode === props.roomCode && data.user.userID !== props.user.userID && props.currentUser.userID !== data.user.userID) {\r\n                var canvas = document.querySelector(`#board-${this.props.roomCode}-${this.props.user.userID}`);\r\n                if (!canvas) {\r\n                    return;\r\n                }\r\n                var base64ImageData = canvas.toDataURL(\"image/png\");\r\n                socket.emit(\"canvas-data\", {image: base64ImageData, roomCode: this.props.roomCode, user: this.props.user});\r\n            }\r\n        })\r\n        this.handleShare = this.handleShare.bind(this)\r\n        this.stopShare = this.stopShare.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.drawOnCanvas();\r\n        this.initialiseImage();\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        this.ctx.strokeStyle = newProps.eraseMode\r\n            ? \"#FFFFFF\"\r\n            : newProps.color;\r\n        this.ctx.lineWidth = newProps.size;\r\n    }\r\n\r\n    drawOnCanvas() {\r\n        var canvas = document.querySelector(`#board-${this.props.roomCode}-${this.props.user.userID}`);\r\n        if (!canvas) {\r\n            return;\r\n        }\r\n        this.ctx = canvas.getContext('2d');\r\n        var ctx = this.ctx;\r\n\r\n        var sketch = document.querySelector(`#sketch-${this.props.roomCode}-${this.props.user.userID}`);\r\n        var sketch_style = getComputedStyle(sketch);\r\n        canvas.width = parseInt(sketch_style.getPropertyValue('width'));\r\n        canvas.height = parseInt(sketch_style.getPropertyValue('height'));\r\n\r\n        var mouse = {x: 0, y: 0};\r\n        var last_mouse = {x: 0, y: 0};\r\n\r\n        /* Mouse Capturing Work */\r\n        canvas.addEventListener('mousemove', function(e) {\r\n            last_mouse.x = mouse.x;\r\n            last_mouse.y = mouse.y;\r\n\r\n            mouse.x = e.pageX - this.offsetLeft;\r\n            mouse.y = e.pageY - this.offsetTop;\r\n        }, false);\r\n\r\n\r\n        /* Drawing on Paint App */\r\n        ctx.lineWidth = this.props.size;\r\n        ctx.lineJoin = 'round';\r\n        ctx.lineCap = 'round';\r\n        ctx.strokeStyle = this.props.eraseMode ? \"#FFFFFF\"\r\n            : this.props.color;\r\n        canvas.addEventListener('mousedown', function(e) {\r\n            canvas.addEventListener('mousemove', onPaint, false);\r\n        }, false);\r\n\r\n        canvas.addEventListener('mouseup', function() {\r\n            canvas.removeEventListener('mousemove', onPaint, false);\r\n        }, false);\r\n\r\n        var root = this;\r\n        var onPaint = function() {\r\n            ctx.beginPath();\r\n            ctx.moveTo(last_mouse.x, last_mouse.y);\r\n            ctx.lineTo(mouse.x, mouse.y);\r\n            ctx.closePath();\r\n            ctx.stroke();\r\n\r\n            if(root.timeout != undefined) clearTimeout(root.timeout);\r\n            root.timeout = setTimeout(function(){\r\n                var base64ImageData = canvas.toDataURL(\"image/png\");\r\n                socket.emit(\"canvas-data\", {image: base64ImageData, roomCode: root.props.roomCode, user: root.props.user});\r\n            }, 1000)\r\n        };\r\n    }\r\n\r\n    handleShare() {\r\n        var canvas = document.querySelector(`#board-${this.props.roomCode}-${this.props.user.userID}`);\r\n        if (!canvas) {\r\n            return;\r\n        }\r\n        var base64ImageData = canvas.toDataURL(\"image/png\");\r\n        socket.emit(\"share-whiteboard\", {image: base64ImageData, roomCode: this.props.roomCode, user: this.props.user});\r\n        this.setState({shared: true})\r\n    }\r\n\r\n    stopShare() {\r\n        socket.emit(\"stop-share\", {roomCode: this.props.roomCode, user: this.props.user});\r\n        this.setState({shared: false});\r\n    }\r\n\r\n\r\n    initialiseImage() {        \r\n        if (this.props.image) {\r\n            var image = new Image();\r\n            // var canvas = document.querySelector(`#board-${props.roomCode}-${props.username}`);\r\n            const canvas = document.getElementById(`board-${this.props.roomCode}-${this.props.user.userID}`);\r\n            if (!canvas) {\r\n                return null;\r\n            }\r\n            var ctx = canvas.getContext('2d');\r\n            image.onload = function() {\r\n                ctx.drawImage(image, 0, 0);\r\n            };\r\n            image.src = this.props.image;\r\n        }\r\n        const canvas = document.getElementById(`board-${this.props.roomCode}-${this.props.user.userID}`);\r\n        var ctx = canvas.getContext('2d');\r\n        ctx.fillStyle = \"white\";\r\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    }\r\n\r\n    clearWhiteboard = () => {\r\n        const canvas = document.getElementById(`board-${this.props.roomCode}-${this.props.user.userID}`);\r\n        if (!canvas) {\r\n            return;\r\n        }\r\n        const ctx = canvas.getContext('2d');\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        socket.emit(\"clear\", {roomCode: this.props.roomCode, user: this.props.user})\r\n    }\r\n\r\n    render() {\r\n        console.log(\"props are in render\", this.props)\r\n        return (\r\n            <Grid item xs={12}>\r\n                <Typography variant=\"h5\">{this.props.user ? this.props.user.username : \"\"}</Typography>\r\n                {this.state.shared \r\n                ? <Button onClick={this.stopShare}>\r\n                    Stop sharing whiteboard\r\n                </Button>\r\n                : <Button onClick={this.handleShare}>\r\n                Share whiteboard\r\n            </Button>}\r\n                <Button onClick={this.clearWhiteboard.bind(this)}>\r\n                    Clear whiteboard\r\n                </Button>\r\n                <div class=\"sketch\" id={`sketch-${this.props.roomCode}-${this.props.user.userID}`}>\r\n                    <canvas className=\"board\" id={`board-${this.props.roomCode}-${this.props.user.userID}`} \r\n                    style={{border:\"1px solid #000000\"}} width=\"800\" height=\"800\"></canvas>\r\n                </div>\r\n            </Grid>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Board","import React from \"react\";\r\nimport Board from \"./Board\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport socket from \"../../../socket\";\r\nimport { List, ListItem, Grid, Typography } from \"@material-ui/core\";\r\n\r\nconst UserWhiteboard = (root) => (whiteboard) => {\r\n    return (\r\n        <Grid container spacing={2} justifyContent=\"flex-start\">\r\n                <Board color={root.state.color} size={root.state.size} \r\n                roomCode={root.props.roomCode} user={whiteboard.user} image={whiteboard.image}\r\n                eraseMode ={root.state.erase} currentUser={root.props.currentUser}/>\r\n        </Grid>\r\n    );\r\n}\r\n\r\n\r\nclass Container extends React.Component {\r\n  roomCode;\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      color: \"#000000\",\r\n      size: \"5\",\r\n      erase: false,\r\n    };\r\n  }\r\n\r\n  changeColor(params) {\r\n    this.setState({\r\n      color: params.target.value,\r\n    });\r\n  }\r\n\r\n  changeSize(params) {\r\n    this.setState({\r\n      size: params.target.value,\r\n    });\r\n  }\r\n\r\n  changeEraseMode = () => {\r\n    this.setState({ ...this.state, erase: !this.state.erase });\r\n  };\r\n\r\n  render() {\r\n    console.log(\"current user\", this.props.currentUser)\r\n    return (\r\n      <Grid container spacing={2} alignItems=\"center\">\r\n        <Grid item xs={1}>\r\n          <div\r\n            style={{ border: \"1px solid #000000\", justifyContent: \"center\" }}\r\n          >\r\n            <List>\r\n              <ListItem>\r\n                <div className=\"color-picker-container\">\r\n                  <Typography variant=\"body1\">Brush Color : &nbsp;</Typography>\r\n                  <input\r\n                    type=\"color\"\r\n                    value={this.state.color}\r\n                    onChange={this.changeColor.bind(this)}\r\n                  />\r\n                </div>\r\n              </ListItem>\r\n              <ListItem>\r\n                <div className=\"brushsize-container\">\r\n                  <Typography variant=\"body1\">Brush Size : &nbsp;</Typography>\r\n                  <select\r\n                    value={this.state.size}\r\n                    onChange={this.changeSize.bind(this)}\r\n                  >\r\n                    <option> 5 </option>\r\n                    <option> 10 </option>\r\n                    <option> 15 </option>\r\n                    <option> 20 </option>\r\n                    <option> 25 </option>\r\n                    <option> 30 </option>\r\n                  </select>\r\n                </div>\r\n              </ListItem>\r\n              <ListItem>\r\n                <Button onClick={this.changeEraseMode.bind(this)}>\r\n                  {this.state.erase ? \"Stop erasing\" : \"Erase\"}\r\n                </Button>\r\n              </ListItem>\r\n              <ListItem>\r\n                {this.props.host && (\r\n                  <Button\r\n                    onClick={() => {\r\n                      if (this.state.focus) {\r\n                        socket.emit(\"get-whiteboards\", {\r\n                          roomCode: this.props.roomCode,\r\n                          user: this.props.currentUser,\r\n                        });\r\n                      }\r\n                      this.setState({\r\n                        ...this.state,\r\n                        focus: !this.state.focus,\r\n                      });\r\n                    }}\r\n                  >\r\n                    {this.state.focus ? \"View all\" : \"View yours\"}\r\n                  </Button>\r\n                )}\r\n              </ListItem>\r\n            </List>\r\n          </div>\r\n        </Grid>\r\n        <Grid item xs={10}>\r\n          {!this.props.host &&\r\n            this.props.shareWhiteboards.map(UserWhiteboard(this))}\r\n          {UserWhiteboard(this)({user: this.props.currentUser})}\r\n          {this.props.host &&\r\n            !this.state.focus &&\r\n            this.props.content.map(UserWhiteboard(this))}\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Container;\r\n","import React from \"react-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Logo from \"../assets/pavo_logo.svg\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"../App.css\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  icon: {\r\n    color: \"#ff5138\",\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  root: {\r\n    flexGrow: 1,\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nconst Header = () => {\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n\r\n  const handleExit = () => {\r\n    if (window.confirm(\"Do you want to go home?\")) {\r\n      history.push(\"/\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar\r\n        position=\"relative\"\r\n        style={{ backgroundColor: \"#f3f5f8\" }}\r\n        elevation={1}\r\n      >\r\n        <Toolbar>\r\n          <img\r\n            src={Logo}\r\n            style={{ maxWidth: 50 }}\r\n            className=\"img\"\r\n            onClick={() => handleExit()}\r\n          />\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useState } from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport BoardContainer from \"./BoardContainer\";\r\nimport socket from \"../../../socket\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport Header from \"../../../components/header\";\r\n\r\n\r\nconst Classroom = ({ host, roomCode, content, currentUser }) => {\r\n  const [shareWhiteboards, setShareWhiteboards] = useState([]);\r\n\r\n    socket.on(\"share-whiteboard\", (data) => {\r\n      const index = shareWhiteboards.findIndex(whiteboard => whiteboard.roomCode === data.roomCode && \r\n        whiteboard.user.userID === data.user.userID);\r\n      if (index === -1 && data.roomCode === roomCode && data.user.userID !== currentUser.userID) {\r\n        setShareWhiteboards([...shareWhiteboards, data])\r\n      }\r\n    })\r\n\r\n    socket.on(\"stop-share\", (data) => {\r\n      const index = shareWhiteboards.findIndex(whiteboard => whiteboard.roomCode === data.roomCode && whiteboard.user.userID === data.user.userID);\r\n      if (index !== -1 && data.userID !== currentUser.username) {\r\n        const newWhiteboard = shareWhiteboards.filter(whiteboard => whiteboard.roomCode !== data.roomCode || whiteboard.username !== data.username)\r\n        setShareWhiteboards(newWhiteboard);\r\n      }\r\n    })\r\n\r\n    const filteredContent = content.filter(x => x.userID !== currentUser.userID).map(x => {\r\n      return ({\r\n        user: {\r\n          userID: x.userID, \r\n          username: x.username\r\n        }\r\n      });\r\n    })\r\n\r\n  return (\r\n    <Grid container spacing={2}>\r\n      <Grid item xs={12}>\r\n        <Header />\r\n      </Grid>\r\n      <Grid item xs={1} />\r\n      <Grid item xs={11}>\r\n        <Typography variant=\"h3\">Room {roomCode}</Typography>\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n        <BoardContainer\r\n          host={host}\r\n          roomCode={roomCode}\r\n          currentUser={currentUser}\r\n          shareWhiteboards={shareWhiteboards}\r\n          content={filteredContent}\r\n        />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Classroom;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport socket from \"../../socket\";\r\nimport WaitingRoom from \"./components/WaitingRoom\"\r\nimport Classroom from \"./components/ClassRoom\"\r\nimport { useLocation, useHistory } from 'react-router-dom';\r\n\r\nconst RoomPage = () => {\r\n  const roomCode = window.location.href.split('/').slice(-1)[0]; // get last fragment of url\r\n  const [users, setUsers] = useState(1);\r\n  const [content, setContent] = useState({\r\n    users: []\r\n  });\r\n  const [roomStart, setRoomStart] = useState(false);\r\n  const location = useLocation();\r\n  const host = location.state.host;\r\n  const currentUser = location.state.user;\r\n  const history = useHistory();\r\n\r\n  // Ensures user leave when closing tab\r\n  window.onbeforeunload = () => {\r\n    socket.emit('leave', currentUser)\r\n  }\r\n\r\n  useEffect(() => {\r\n    socket.connect();\r\n    socket.emit('userJoinedRoom', {roomCode: roomCode, user: currentUser}, ({started}) => {\r\n      setRoomStart(started);\r\n    });\r\n\r\n    socket.on('update_user', (content) => {\r\n      console.log(content)\r\n      setUsers(content.users.length)\r\n      setContent(content.users);\r\n      // setRoomStart(content.started);\r\n      if (currentUser.username.length !== 0 && content.users.findIndex(user => user.userID === currentUser.userID) === -1) {\r\n        history.push(\"/\");\r\n        alert(\"Sorry, you have been removed by the host\");\r\n      }\r\n    })\r\n\r\n    socket.on('update_session_start', (content) => {\r\n      setRoomStart(content.start)\r\n    })\r\n  }, [])\r\n\r\n  console.log(\"content in room page\", content)\r\n\r\n\r\n  return roomStart \r\n    ?     <Classroom \r\n    host={host}\r\n    roomCode={roomCode}\r\n    content={content}\r\n    currentUser={currentUser}\r\n    />\r\n    : <WaitingRoom \r\n    host={host}\r\n    roomCode={roomCode}\r\n    users={users}\r\n    content={content}\r\n    currentUser={currentUser}\r\n    />;\r\n}\r\n\r\nexport default RoomPage;","import \"./App.css\";\r\nimport Homepage from \"./pages/homepage/homepage\";\r\nimport WaitingRoomPage from \"./pages/roomPage/RoomPage\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    justifyItems: \"center\",\r\n  },\r\n}));\r\n\r\nfunction App() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          <div className=\"App\">\r\n            <Homepage />\r\n          </div>\r\n        </Route>\r\n        <Route path=\"/room/:roomCode\">\r\n          <WaitingRoomPage />\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}