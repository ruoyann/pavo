{"version":3,"sources":["socket.js","pages/homepage/components/classroomlogin.js","pages/homepage/components/makeClassroomButton.js","pages/homepage/components/usernameInput.js","components/footer.js","assets/pavo_logo.svg","assets/peacockSound.m4a","pages/homepage/homepage.js","pages/roomPage/components/WaitingRoom.js","pages/roomPage/components/Board.js","pages/roomPage/components/BoardContainer.js","components/header.js","pages/roomPage/components/ClassRoom.js","pages/roomPage/RoomPage.js","App.js","index.js"],"names":["socket","io","autoConnect","onAny","event","args","console","log","useStyles","makeStyles","theme","button","background","color","width","fontSize","margin","spacing","textField","marginLeft","marginRight","Classroomlogin","username","setInvalidUsername","classes","history","useHistory","useState","code","setCode","show","setShow","invalidRoomcode","setInvalidRoomcode","useEffect","connect","Button","variant","className","onClick","preventDefault","style","marginBottom","TextField","label","id","name","onChange","target","value","helperText","error","type","emit","roomCode","toLowerCase","trim","user","alert","push","isHost","marginTop","backgroundColor","MakeClassroomButton","once","data","host","handleCreate","UsernameInput","setUsername","invalidUsername","Footer","paddingTop","Typography","align","gutterBottom","paper","padding","display","flexDirection","alignItems","justifyContent","breakpoints","up","Homepage","useSound","sound","play","Box","minHeight","Zoom","in","Paper","elevation","src","Logo","alt","e","detail","handleScream","height","WaitingRoom","roomHost","content","users","currentUser","minWidth","length","map","userID","Tooltip","title","IconButton","edge","removeUser","ParticipantDisplay","size","Board","props","isDrawing","clearWhiteboard","canvas","document","getElementById","getContext","clearRect","state","shared","on","localeCompare","root","this","interval","setInterval","clearInterval","image","Image","querySelector","ctx","onload","drawImage","base64ImageData","toDataURL","handleShare","bind","stopShare","drawOnCanvas","initialiseImage","newProps","strokeStyle","eraseMode","lineWidth","sketch","sketch_style","getComputedStyle","parseInt","getPropertyValue","mouse","x","y","last_mouse","addEventListener","pageX","offsetLeft","pageY","offsetTop","lineJoin","lineCap","onPaint","removeEventListener","beginPath","moveTo","lineTo","closePath","stroke","undefined","timeout","clearTimeout","setTimeout","setState","fillStyle","fillRect","Grid","item","xs","class","border","React","Component","UserWhiteboard","whiteboard","container","erase","Container","changeEraseMode","params","List","ListItem","changeColor","changeSize","focus","shareWhiteboards","icon","flexGrow","menuButton","Header","AppBar","position","Toolbar","maxWidth","window","confirm","Classroom","setShareWhiteboards","findIndex","newWhiteboard","filter","filteredContent","BoardContainer","RoomPage","location","href","split","slice","setUsers","setContent","roomStart","setRoomStart","setRoomHost","useLocation","onbeforeunload","started","start","createTheme","typography","fontFamily","fontWeightRegular","body1","App","ThemeProvider","exact","path","component","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.d09fde28.chunk.js","sourcesContent":["import { io } from 'socket.io-client';\r\n\r\nconst socket = io({ autoConnect: false });\r\n\r\nsocket.onAny((event, ...args) => {\r\n  console.log('Catch-all listener', event, args);\r\n});\r\n\r\n\r\nexport default socket;\r\n\r\n","import TextField from \"@material-ui/core/TextField\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport socket from \"../../../socket\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    background: \"#74b816\",\r\n    color: \"white\",\r\n    width: \"100%\",\r\n    fontSize: 20,\r\n    margin: theme.spacing(1),\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: \"84%\",\r\n  },\r\n}));\r\n\r\nconst Classroomlogin = ({ username, setInvalidUsername }) => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const [code, setCode] = useState(\"\");\r\n  const [show, setShow] = useState(false);\r\n\r\n  const [invalidRoomcode, setInvalidRoomcode] = useState(false);\r\n\r\n  const handleChange = (event) => {\r\n    setCode(event.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket.connect();\r\n  }, []);\r\n\r\n  const handleClickJoinSession = (event) => {\r\n    event.preventDefault();\r\n    if (username === \"\") {\r\n      setInvalidUsername(true)\r\n    } else {\r\n      setInvalidUsername(false)\r\n      setShow(!show)\r\n    }\r\n  };\r\n\r\n  const handleEnterClass = (event) => {\r\n    event.preventDefault();\r\n    if (code === \"\") {\r\n      setInvalidRoomcode(true);\r\n    } else {\r\n      setInvalidRoomcode(false);\r\n      socket.emit(\r\n        \"userLogin\",\r\n        { roomCode: code.toLowerCase().trim(), username: username },\r\n        ({ error, user }) => {\r\n          if (error) {\r\n            alert(error);\r\n          } else {\r\n            history.push(`/room/${code}`, { isHost: false, user: user });\r\n          }\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        variant=\"contained\"\r\n        className={classes.button}\r\n        onClick={handleClickJoinSession}\r\n      >\r\n        Join a session\r\n      </Button>\r\n      {show ? (\r\n        <div style={{ marginBottom: 10, width: '100%' }}>\r\n          <TextField\r\n            label=\"Classroom code\"\r\n            id=\"margin-normal\"\r\n            name=\"name\"\r\n            className={classes.textField}\r\n            onChange={handleChange}\r\n            style={{ width: \"60%\" }}\r\n            helperText={invalidRoomcode ? \"Please enter a valid classroom code\" : \"\"}\r\n            error={invalidRoomcode}\r\n          />\r\n\r\n          <Button\r\n            type=\"submit\"\r\n            variant=\"contained\"\r\n            color=\"default\"\r\n            onClick={handleEnterClass}\r\n            style={{\r\n              marginTop: \"10px\",\r\n              marginLeft: \"50px\",\r\n              width: \"20%\",\r\n              backgroundColor: \"#d6336c\",\r\n              color: \"white\",\r\n            }}\r\n          >\r\n            Enter\r\n          </Button>\r\n        </div>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Classroomlogin;\r\n","import React, { useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport socket from \"../../../socket\";\r\n// import { Button } from \"reactstrap\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    background: \"#f76705\",\r\n    color: \"white\",\r\n    width: \"100%\",\r\n    fontSize: 20,\r\n    margin: theme.spacing(1)\r\n  }\r\n}));\r\n\r\nconst MakeClassroomButton = ({ username, setInvalidUsername }) => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const handleMakeClass = () => {\r\n    if (username === \"\") {\r\n      setInvalidUsername(true);\r\n    } else {\r\n      setInvalidUsername(false);\r\n      handleCreate();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket.connect();\r\n    socket.once(\"create\", (data) => {\r\n      const roomCode = data.roomCode;\r\n      const user = data.host;\r\n      history.push(`/room/${roomCode}`, { isHost: true, user: user });\r\n    });\r\n  }, [username]);\r\n\r\n  const handleCreate = () => {\r\n    socket.emit(\"create\", { username: username });\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      variant=\"contained\"\r\n      className={classes.button}\r\n      onClick={handleMakeClass}\r\n    >\r\n      Create a new session\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default MakeClassroomButton;\r\n","import TextField from \"@material-ui/core/TextField\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport React, { useEffect } from \"react\";\r\nimport socket from \"../../../socket\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    marginBottom: theme.spacing(2),\r\n    width: \"100%\",\r\n  },\r\n}));\r\n\r\nconst UsernameInput = ({ setUsername, invalidUsername }) => {\r\n  const classes = useStyles();\r\n\r\n  const handleChange = (event) => {\r\n    setUsername(event.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket.connect();\r\n  }, []);\r\n\r\n  return (\r\n      <TextField\r\n        label=\"Username\"\r\n        id=\"margin-normal\"\r\n        name=\"name\"\r\n        className={classes.textField}\r\n        onChange={handleChange}\r\n        helperText={invalidUsername ? \"Please enter a username\" : \"\"}\r\n        error={invalidUsername}\r\n      />\r\n  );\r\n};\r\n\r\nexport default UsernameInput;\r\n","import React from \"react-dom\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst Footer = () => {\r\n\r\n  return (\r\n    <div className=\"fixed-bottom\" style={{ paddingTop: \"70px\" }}>\r\n      <Typography variant=\"body1\" align=\"center\" gutterBottom >\r\n        A whiteboard for a fun and interactive classroom experience\r\n      </Typography>\r\n      <Typography variant=\"body2\" align=\"center\">\r\n        ðŸ¦š Made for Lifehack 2021 ðŸ¦š\r\n      </Typography>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","export default __webpack_public_path__ + \"static/media/pavo_logo.aaa927f9.svg\";","export default __webpack_public_path__ + \"static/media/peacockSound.72d272aa.m4a\";","import React, { useState } from \"react\";\r\nimport ClassroomLogin from \"./components/classroomlogin\";\r\nimport MakeClassroomButton from \"./components/makeClassroomButton\";\r\nimport UsernameInput from \"./components/usernameInput\";\r\nimport Footer from \"../../components/footer\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Paper, Box, Zoom } from \"@material-ui/core\";\r\n\r\nimport Logo from \"../../assets/pavo_logo.svg\";\r\n\r\nimport { useSound } from \"use-sound\";\r\nimport sound from \"../../assets/peacockSound.m4a\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(3),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n      marginTop: theme.spacing(6),\r\n      marginBottom: theme.spacing(6),\r\n      padding: theme.spacing(3),\r\n    }\r\n  }\r\n}));\r\n\r\nconst Homepage = () => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [invalidUsername, setInvalidUsername] = useState(false);\r\n  const [play] = useSound(sound);\r\n\r\n  const classes = useStyles();\r\n\r\n  const handleScream = (e) => {\r\n    if (e.detail === 5) {\r\n      play();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Box\r\n      display=\"flex\"\r\n      justifyContent=\"center\"\r\n      alignItems=\"center\"\r\n      minHeight=\"100vh\"\r\n      flexDirection=\"column\"\r\n    >\r\n    <Zoom in={true}>\r\n      <Paper elevation={2} className={classes.paper}>\r\n      <img\r\n        src={Logo}\r\n        alt=\"Peacock!\"\r\n        onClick={(e) => handleScream(e)}\r\n        style={{ width: \"400px\", height: \"300px\" }}\r\n      />\r\n      <UsernameInput setUsername={setUsername} invalidUsername={invalidUsername} />\r\n      <ClassroomLogin username={username} setInvalidUsername={setInvalidUsername} />\r\n      <MakeClassroomButton username={username} setInvalidUsername={setInvalidUsername} />\r\n      </Paper>\r\n      </Zoom>\r\n\r\n      <Footer />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Homepage;\r\n","import React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport socket from \"../../../socket\";\r\nimport Logo from \"../../../assets/pavo_logo.svg\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport \"./WaitingRoom.css\";\r\nimport Footer from \"../../../components/footer\";\r\nimport { Tooltip, Paper } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    background: \"#d6336c\",\r\n    color: \"white\",\r\n    height: 70,\r\n    width: 400,\r\n    fontSize: 30,\r\n    margin: theme.spacing(3),\r\n  }\r\n}));\r\n\r\nconst WaitingRoom = ({\r\n  isHost,\r\n  roomHost,\r\n  roomCode,\r\n  users,\r\n  content,\r\n  currentUser,\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  const startSession = () => {\r\n    socket.emit(\"startSession\", roomCode);\r\n  };\r\n\r\n  const removeUser = (user) => {\r\n    socket.emit(\"remove-user\", { user: user, roomCode: roomCode });\r\n  };\r\n\r\n  const ParticipantDisplay = (isHost) => (user) => {\r\n    return (\r\n      <li>\r\n        {roomHost.username === user.username\r\n          ? roomHost.username + \" [Host]\"\r\n          : user.username}\r\n        {isHost && user.userID !== currentUser.userID && (\r\n          <Tooltip title=\"Kick user from room\">\r\n          <IconButton edge=\"end\" onClick={() => removeUser(user)}>\r\n            <DeleteIcon />\r\n          </IconButton>\r\n          </Tooltip>\r\n        )}\r\n      </li>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"waitingRoom\">\r\n      <Typography variant=\"h2\" style={{ margin: 10 }}>\r\n        You are in room {roomCode}\r\n      </Typography>\r\n      <div className=\"waitingRoom__content\">\r\n      <Paper className=\"leader waitingRoom__paper\" elevation={3}>\r\n        <Typography variant=\"h3\" style={{ margin: 10 }}>\r\n          Session Leader\r\n        </Typography>\r\n        <img src={Logo} alt=\"logo\" style={{ width: \"50%\", minWidth: \"50%\" }} />\r\n        <Typography variant=\"h3\"> {roomHost.username} </Typography>\r\n      </Paper>\r\n      <Paper className=\"users waitingRoom__paper\" elevation={3}>\r\n        <Typography variant=\"h6\" align=\"center\">\r\n          Users\r\n        </Typography>\r\n        <Typography variant=\"body1\" align=\"center\" style={{width: '60%'}}>\r\n          <ol>{content.length > 0 && content.map(ParticipantDisplay(isHost))}</ol>\r\n        </Typography>\r\n      </Paper>\r\n      </div>\r\n      {isHost && (\r\n        <Button\r\n          type=\"submit\"\r\n          variant=\"contained\"\r\n          color=\"default\"\r\n          size=\"large\"\r\n          className={classes.button}\r\n          onClick={startSession}\r\n        >\r\n          Start session\r\n        </Button>\r\n      )}\r\n      {!isHost && (\r\n        <Typography variant=\"h6\" className=\"loading\">\r\n          Waiting for host to start meeting\r\n        </Typography>\r\n      )}\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WaitingRoom;\r\n","import { Button, Typography, Grid } from '@material-ui/core';\r\nimport React, { useEffect } from 'react';\r\nimport socket from \"../../../socket\"\r\n\r\n\r\nclass Board extends React.Component {\r\n    timeout;\r\n    ctx;\r\n    isDrawing = false;\r\n    roomCode; \r\n    userID;\r\n \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            shared: false, \r\n        }\r\n        socket.on(\"canvas-data\", function(data){\r\n            if (data.roomCode.localeCompare(props.roomCode) !== 0 || \r\n                data.user.userID.localeCompare(props.user.userID) !== 0) {\r\n                    return;\r\n                }\r\n            var root = this;\r\n            var interval = setInterval(function(){\r\n                if(root.isDrawing) return;\r\n                root.isDrawing = true;\r\n                clearInterval(interval);\r\n                var image = new Image();\r\n                var canvas = document.querySelector(`#board-${props.roomCode}-${props.user.userID}`);\r\n                if (canvas) {\r\n                    var ctx = canvas.getContext('2d');\r\n                    image.onload = function() {\r\n                        ctx.drawImage(image, 0, 0);\r\n    \r\n                        root.isDrawing = false;\r\n                    };\r\n                    image.src = data.image;\r\n                }\r\n            }, 200)\r\n        })\r\n\r\n        socket.on(\"clear\", (data) => {\r\n            if (data.roomCode === props.roomCode && data.user.userID === props.user.userID) {\r\n                const canvas = document.getElementById(`board-${this.props.roomCode}-${this.props.user.userID}`);\r\n                if (!canvas) {\r\n                    return;\r\n                }\r\n                const ctx = canvas.getContext('2d');\r\n                ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n            }\r\n        })\r\n\r\n        socket.on(\"get-whiteboards\", (data) => {\r\n            if (data.roomCode === props.roomCode && data.user.userID !== props.user.userID && props.currentUser.userID !== data.user.userID) {\r\n                var canvas = document.querySelector(`#board-${this.props.roomCode}-${this.props.user.userID}`);\r\n                if (!canvas) {\r\n                    return;\r\n                }\r\n                var base64ImageData = canvas.toDataURL(\"image/png\");\r\n                socket.emit(\"canvas-data\", {image: base64ImageData, roomCode: this.props.roomCode, user: this.props.user});\r\n            }\r\n        })\r\n        this.handleShare = this.handleShare.bind(this)\r\n        this.stopShare = this.stopShare.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.drawOnCanvas();\r\n        this.initialiseImage();\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        this.ctx.strokeStyle = newProps.eraseMode\r\n            ? \"#FFFFFF\"\r\n            : newProps.color;\r\n        this.ctx.lineWidth = newProps.size;\r\n    }\r\n\r\n    drawOnCanvas() {\r\n        var canvas = document.querySelector(`#board-${this.props.roomCode}-${this.props.user.userID}`);\r\n        if (!canvas) {\r\n            return;\r\n        }\r\n        this.ctx = canvas.getContext('2d');\r\n        var ctx = this.ctx;\r\n\r\n        var sketch = document.querySelector(`#sketch-${this.props.roomCode}-${this.props.user.userID}`);\r\n        var sketch_style = getComputedStyle(sketch);\r\n        canvas.width = parseInt(sketch_style.getPropertyValue('width'));\r\n        canvas.height = parseInt(sketch_style.getPropertyValue('height'));\r\n\r\n        var mouse = {x: 0, y: 0};\r\n        var last_mouse = {x: 0, y: 0};\r\n\r\n        /* Mouse Capturing Work */\r\n        canvas.addEventListener('mousemove', function(e) {\r\n            last_mouse.x = mouse.x;\r\n            last_mouse.y = mouse.y;\r\n\r\n            mouse.x = e.pageX - this.offsetLeft;\r\n            mouse.y = e.pageY - this.offsetTop;\r\n        }, false);\r\n\r\n\r\n        /* Drawing on Paint App */\r\n        ctx.lineWidth = this.props.size;\r\n        ctx.lineJoin = 'round';\r\n        ctx.lineCap = 'round';\r\n        ctx.strokeStyle = this.props.eraseMode ? \"#FFFFFF\"\r\n            : this.props.color;\r\n        canvas.addEventListener('mousedown', function(e) {\r\n            canvas.addEventListener('mousemove', onPaint, false);\r\n        }, false);\r\n\r\n        canvas.addEventListener('mouseup', function() {\r\n            canvas.removeEventListener('mousemove', onPaint, false);\r\n        }, false);\r\n\r\n        var root = this;\r\n        var onPaint = function() {\r\n            ctx.beginPath();\r\n            ctx.moveTo(last_mouse.x, last_mouse.y);\r\n            ctx.lineTo(mouse.x, mouse.y);\r\n            ctx.closePath();\r\n            ctx.stroke();\r\n\r\n            if(root.timeout != undefined) clearTimeout(root.timeout);\r\n            root.timeout = setTimeout(function(){\r\n                var base64ImageData = canvas.toDataURL(\"image/png\");\r\n                socket.emit(\"canvas-data\", {image: base64ImageData, roomCode: root.props.roomCode, user: root.props.user});\r\n            }, 1000)\r\n        };\r\n    }\r\n\r\n    handleShare() {\r\n        var canvas = document.querySelector(`#board-${this.props.roomCode}-${this.props.user.userID}`);\r\n        if (!canvas) {\r\n            return;\r\n        }\r\n        var base64ImageData = canvas.toDataURL(\"image/png\");\r\n        socket.emit(\"share-whiteboard\", {image: base64ImageData, roomCode: this.props.roomCode, user: this.props.user});\r\n        this.setState({shared: true})\r\n    }\r\n\r\n    stopShare() {\r\n        socket.emit(\"stop-share\", {roomCode: this.props.roomCode, user: this.props.user});\r\n        this.setState({shared: false});\r\n    }\r\n\r\n\r\n    initialiseImage() {        \r\n        if (this.props.image) {\r\n            var image = new Image();\r\n            // var canvas = document.querySelector(`#board-${props.roomCode}-${props.username}`);\r\n            const canvas = document.getElementById(`board-${this.props.roomCode}-${this.props.user.userID}`);\r\n            if (!canvas) {\r\n                return null;\r\n            }\r\n            var ctx = canvas.getContext('2d');\r\n            image.onload = function() {\r\n                ctx.drawImage(image, 0, 0);\r\n            };\r\n            image.src = this.props.image;\r\n        }\r\n        const canvas = document.getElementById(`board-${this.props.roomCode}-${this.props.user.userID}`);\r\n        var ctx = canvas.getContext('2d');\r\n        ctx.fillStyle = \"white\";\r\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    }\r\n\r\n    clearWhiteboard = () => {\r\n        const canvas = document.getElementById(`board-${this.props.roomCode}-${this.props.user.userID}`);\r\n        if (!canvas) {\r\n            return;\r\n        }\r\n        const ctx = canvas.getContext('2d');\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        socket.emit(\"clear\", {roomCode: this.props.roomCode, user: this.props.user})\r\n    }\r\n\r\n    render() {\r\n        console.log(\"props are in render\", this.props)\r\n        return (\r\n            <Grid item xs={12}>\r\n                <Typography variant=\"h5\">{this.props.user ? this.props.user.username : \"\"}</Typography>\r\n                {this.state.shared \r\n                ? <Button onClick={this.stopShare}>\r\n                    Stop sharing whiteboard\r\n                </Button>\r\n                : <Button onClick={this.handleShare}>\r\n                Share whiteboard\r\n            </Button>}\r\n                <Button onClick={this.clearWhiteboard.bind(this)}>\r\n                    Clear whiteboard\r\n                </Button>\r\n                <div class=\"sketch\" id={`sketch-${this.props.roomCode}-${this.props.user.userID}`}>\r\n                    <canvas className=\"board\" id={`board-${this.props.roomCode}-${this.props.user.userID}`} \r\n                    style={{border:\"1px solid #000000\"}} width=\"800\" height=\"800\"></canvas>\r\n                </div>\r\n            </Grid>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Board","import React from \"react\";\r\nimport Board from \"./Board\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport socket from \"../../../socket\";\r\nimport { List, ListItem, Grid, Typography } from \"@material-ui/core\";\r\n\r\nconst UserWhiteboard = (root) => (whiteboard) => {\r\n    return (\r\n        <Grid container spacing={2} justifyContent=\"flex-start\">\r\n                <Board color={root.state.color} size={root.state.size} \r\n                roomCode={root.props.roomCode} user={whiteboard.user} image={whiteboard.image}\r\n                eraseMode ={root.state.erase} currentUser={root.props.currentUser}/>\r\n        </Grid>\r\n    );\r\n}\r\n\r\n\r\nclass Container extends React.Component {\r\n  roomCode;\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      color: \"#000000\",\r\n      size: \"5\",\r\n      erase: false,\r\n    };\r\n  }\r\n\r\n  changeColor(params) {\r\n    this.setState({\r\n      color: params.target.value,\r\n    });\r\n  }\r\n\r\n  changeSize(params) {\r\n    this.setState({\r\n      size: params.target.value,\r\n    });\r\n  }\r\n\r\n  changeEraseMode = () => {\r\n    this.setState({ ...this.state, erase: !this.state.erase });\r\n  };\r\n\r\n  render() {\r\n    console.log(\"current user\", this.props.currentUser)\r\n    return (\r\n      <Grid container spacing={2} alignItems=\"center\">\r\n        <Grid item xs={1}>\r\n          <div\r\n            style={{ border: \"1px solid #000000\", justifyContent: \"center\" }}\r\n          >\r\n            <List>\r\n              <ListItem>\r\n                <div className=\"color-picker-container\">\r\n                  <Typography variant=\"body1\">Brush Color : &nbsp;</Typography>\r\n                  <input\r\n                    type=\"color\"\r\n                    value={this.state.color}\r\n                    onChange={this.changeColor.bind(this)}\r\n                  />\r\n                </div>\r\n              </ListItem>\r\n              <ListItem>\r\n                <div className=\"brushsize-container\">\r\n                  <Typography variant=\"body1\">Brush Size : &nbsp;</Typography>\r\n                  <select\r\n                    value={this.state.size}\r\n                    onChange={this.changeSize.bind(this)}\r\n                  >\r\n                    <option> 5 </option>\r\n                    <option> 10 </option>\r\n                    <option> 15 </option>\r\n                    <option> 20 </option>\r\n                    <option> 25 </option>\r\n                    <option> 30 </option>\r\n                  </select>\r\n                </div>\r\n              </ListItem>\r\n              <ListItem>\r\n                <Button onClick={this.changeEraseMode.bind(this)}>\r\n                  {this.state.erase ? \"Stop erasing\" : \"Erase\"}\r\n                </Button>\r\n              </ListItem>\r\n              <ListItem>\r\n                {this.props.isHost && (\r\n                  <Button\r\n                    onClick={() => {\r\n                      if (this.state.focus) {\r\n                        socket.emit(\"get-whiteboards\", {\r\n                          roomCode: this.props.roomCode,\r\n                          user: this.props.currentUser,\r\n                        });\r\n                      }\r\n                      this.setState({\r\n                        ...this.state,\r\n                        focus: !this.state.focus,\r\n                      });\r\n                    }}\r\n                  >\r\n                    {this.state.focus ? \"View all\" : \"View yours\"}\r\n                  </Button>\r\n                )}\r\n              </ListItem>\r\n            </List>\r\n          </div>\r\n        </Grid>\r\n        <Grid item xs={10}>\r\n          {!this.props.isHost &&\r\n            this.props.shareWhiteboards.map(UserWhiteboard(this))}\r\n          {UserWhiteboard(this)({user: this.props.currentUser})}\r\n          {this.props.isHost &&\r\n            !this.state.focus &&\r\n            this.props.content.map(UserWhiteboard(this))}\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Container;\r\n","import React from \"react-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Logo from \"../assets/pavo_logo.svg\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"../App.css\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  icon: {\r\n    color: \"#ff5138\",\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  root: {\r\n    flexGrow: 1,\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nconst Header = () => {\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n\r\n  const handleExit = () => {\r\n    if (window.confirm(\"Do you want to go home?\")) {\r\n      history.push(\"/\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar\r\n        position=\"relative\"\r\n        style={{ backgroundColor: \"#f3f5f8\" }}\r\n        elevation={1}\r\n      >\r\n        <Toolbar>\r\n          <img\r\n            src={Logo}\r\n            style={{ maxWidth: 50 }}\r\n            className=\"img\"\r\n            onClick={() => handleExit()}\r\n          />\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useState } from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport BoardContainer from \"./BoardContainer\";\r\nimport socket from \"../../../socket\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport Header from \"../../../components/header\";\r\n\r\n\r\nconst Classroom = ({ isHost, roomCode, content, currentUser }) => {\r\n  const [shareWhiteboards, setShareWhiteboards] = useState([]);\r\n\r\n    socket.on(\"share-whiteboard\", (data) => {\r\n      const index = shareWhiteboards.findIndex(whiteboard => whiteboard.roomCode === data.roomCode && \r\n        whiteboard.user.userID === data.user.userID);\r\n      if (index === -1 && data.roomCode === roomCode && data.user.userID !== currentUser.userID) {\r\n        setShareWhiteboards([...shareWhiteboards, data])\r\n      }\r\n    })\r\n\r\n    socket.on(\"stop-share\", (data) => {\r\n      const index = shareWhiteboards.findIndex(whiteboard => whiteboard.roomCode === data.roomCode && whiteboard.user.userID === data.user.userID);\r\n      if (index !== -1 && data.userID !== currentUser.username) {\r\n        const newWhiteboard = shareWhiteboards.filter(whiteboard => whiteboard.roomCode !== data.roomCode || whiteboard.username !== data.username)\r\n        setShareWhiteboards(newWhiteboard);\r\n      }\r\n    })\r\n\r\n    const filteredContent = content.filter(x => x.userID !== currentUser.userID).map(x => {\r\n      return ({\r\n        user: {\r\n          userID: x.userID, \r\n          username: x.username\r\n        }\r\n      });\r\n    })\r\n\r\n  return (\r\n    <Grid container spacing={2}>\r\n      <Grid item xs={12}>\r\n        <Header />\r\n      </Grid>\r\n      <Grid item xs={1} />\r\n      <Grid item xs={11}>\r\n        <Typography variant=\"h3\">Room {roomCode}</Typography>\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n        <BoardContainer\r\n          isHost={isHost}\r\n          roomCode={roomCode}\r\n          currentUser={currentUser}\r\n          shareWhiteboards={shareWhiteboards}\r\n          content={filteredContent}\r\n        />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Classroom;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport socket from \"../../socket\";\r\nimport WaitingRoom from \"./components/WaitingRoom\"\r\nimport Classroom from \"./components/ClassRoom\"\r\nimport { useLocation, useHistory } from 'react-router-dom';\r\n\r\nconst RoomPage = () => {\r\n  const roomCode = window.location.href.split('/').slice(-1)[0]; // get last fragment of url\r\n  const [users, setUsers] = useState(1);\r\n  const [content, setContent] = useState({\r\n    users: []\r\n  });\r\n  const [roomStart, setRoomStart] = useState(false);\r\n  const [roomHost, setRoomHost] = useState({});\r\n  const location = useLocation();\r\n  const isHost = location.state.isHost;\r\n  const currentUser = location.state.user;\r\n  const history = useHistory();\r\n\r\n  // Ensures user leave when closing tab\r\n  window.onbeforeunload = () => {\r\n    socket.emit('leave', currentUser)\r\n  }\r\n\r\n  useEffect(() => {\r\n    socket.connect();\r\n    socket.emit('userJoinedRoom', {roomCode: roomCode, user: currentUser}, ({started}) => {\r\n      setRoomStart(started);\r\n    });\r\n\r\n    socket.on('update_user', (content) => {\r\n      console.log(content)\r\n      setUsers(content.users.length)\r\n      setContent(content.users);\r\n      setRoomHost(content.roomHost);\r\n      // setRoomStart(content.started);\r\n      if (currentUser.username.length !== 0 && content.users.findIndex(user => user.userID === currentUser.userID) === -1) {\r\n        history.push(\"/\");\r\n        alert(\"Sorry, you have been removed by the host\");\r\n      }\r\n    })\r\n\r\n    socket.on('update_session_start', (content) => {\r\n      setRoomStart(content.start)\r\n    })\r\n  }, [])\r\n\r\n  console.log(\"content in room page\", content)\r\n\r\n\r\n  return roomStart \r\n    ?     <Classroom \r\n    isHost={isHost}\r\n    roomCode={roomCode}\r\n    content={content}\r\n    currentUser={currentUser}\r\n    />\r\n    : <WaitingRoom \r\n    isHost={isHost}\r\n    roomHost={roomHost}\r\n    roomCode={roomCode}\r\n    users={users}\r\n    content={content}\r\n    currentUser={currentUser}\r\n    />;\r\n}\r\n\r\nexport default RoomPage;","import \"./App.css\";\r\nimport Homepage from \"./pages/homepage/homepage\";\r\nimport RoomPage from \"./pages/roomPage/RoomPage\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport { createTheme, ThemeProvider } from \"@material-ui/core\";\r\n\r\nconst theme = createTheme({\r\n  typography: {\r\n    fontFamily: 'Quicksand',\r\n    fontWeightRegular: 500,\r\n    body1: {\r\n      fontSize: '1.1rem',\r\n    }\r\n  },\r\n});\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n    <Router>\r\n      <Switch>\r\n        <Route exact path=\"/\" component={Homepage} />\r\n        <Route path=\"/room/:roomCode\" component={RoomPage} />\r\n      </Switch>\r\n    </Router>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}